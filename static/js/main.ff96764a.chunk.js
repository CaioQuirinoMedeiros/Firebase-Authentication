(this["webpackJsonpauthentication-firebase"]=this["webpackJsonpauthentication-firebase"]||[]).push([[0],{49:function(e,t,a){e.exports=a(71)},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),u=a(74),o=a(12),i=a(7),s=a(8),m=a.n(s),d=a(16),p=a(10),b=a(77),v=a(76),f=a(75),E=a(73),h=a(30),g=a.n(h),w=a(28),O=a.n(w),j=(a(64),O.a.initializeApp({apiKey:"AIzaSyDBMuxOeh8UV4sG2632eg5lY9TmJOGQs5w",authDomain:"authentication-392dd.firebaseapp.com",databaseURL:"https://authentication-392dd.firebaseio.com",projectId:"authentication-392dd",storageBucket:"authentication-392dd.appspot.com",messagingSenderId:"314333620137",appId:"1:314333620137:web:1a8253654458d3cf9386b8"})),k=j.auth(),x=new g.a.auth.GoogleAuthProvider,y=new g.a.auth.FacebookAuthProvider,C=Object(n.createContext)({});function P(e){var t=e.children,a=Object(n.useState)(null),l=Object(p.a)(a,2),c=l[0],u=l[1],o=Object(n.useState)(!0),i=Object(p.a)(o,2),s=i[0],m=i[1],d=Object(n.useCallback)((function(e){var t=e.email,a=e.password;return k.createUserWithEmailAndPassword(t,a)}),[]),b=Object(n.useCallback)((function(e){var t=e.email,a=e.password;return k.signInWithEmailAndPassword(t,a)}),[]),v=Object(n.useCallback)((function(){return k.signInWithPopup(x)}),[]),f=Object(n.useCallback)((function(){return k.signInWithPopup(y)}),[]),E=Object(n.useCallback)((function(){return k.signOut()}),[]),h=Object(n.useCallback)((function(e){return k.sendPasswordResetEmail(e)}),[]),g=Object(n.useCallback)((function(e){return null===c||void 0===c?void 0:c.updateEmail(e)}),[c]),w=Object(n.useCallback)((function(e){return null===c||void 0===c?void 0:c.updatePassword(e)}),[c]);Object(n.useEffect)((function(){return k.onAuthStateChanged((function(e){u(e),m(!1)}))}),[]);var O=Object(n.useMemo)((function(){return{currentUser:c,signup:d,login:b,logout:E,resetPassword:h,updateEmail:g,updatePassword:w,loginWithGoogle:v,loginWithFacebook:f}}),[c,d,b,E,h,g,w,v,f]);return r.a.createElement(C.Provider,{value:O},!s&&t)}var S=function(){return Object(n.useContext)(C)};function N(){var e=S().signup,t=Object(n.useState)(""),a=Object(p.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)(!1),i=Object(p.a)(u,2),s=i[0],h=i[1],g=Object(n.useRef)(null),w=Object(n.useRef)(null),O=Object(n.useRef)(null),j=Object(n.useCallback)(function(){var t=Object(d.a)(m.a.mark((function t(a){var n,r,l,u,o,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),h(!0),(null===(n=g.current)||void 0===n?void 0:n.value)&&(null===(r=w.current)||void 0===r?void 0:r.value)){t.next=4;break}return t.abrupt("return");case 4:if((null===(l=O.current)||void 0===l?void 0:l.value)===(null===(u=w.current)||void 0===u?void 0:u.value)){t.next=6;break}return t.abrupt("return",c("Passwords do not match"));case 6:return t.prev=6,c(""),t.next=10,e({email:null===(o=g.current)||void 0===o?void 0:o.value,password:null===(i=w.current)||void 0===i?void 0:i.value});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),c("Failed to create an account");case 15:return t.prev=15,h(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[6,12,15,18]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null,r.a.createElement(b.a.Body,null,r.a.createElement("h2",{className:"text-center  mb-4"},"Sign Up"),!!l&&r.a.createElement(v.a,{variant:"danger"},l),r.a.createElement(f.a,{onSubmit:j},r.a.createElement(f.a.Group,{id:"email"},r.a.createElement(f.a.Label,null,"Email"),r.a.createElement(f.a.Control,{type:"email",required:!0,ref:g})),r.a.createElement(f.a.Group,{id:"password"},r.a.createElement(f.a.Label,null,"Password"),r.a.createElement(f.a.Control,{type:"password",required:!0,ref:w})),r.a.createElement(f.a.Group,{id:"password-confirmation"},r.a.createElement(f.a.Label,null,"Password Confirmation"),r.a.createElement(f.a.Control,{type:"password",required:!0,ref:O})),r.a.createElement(E.a,{type:"submit",className:"w-100",disabled:s},s?"Signing up...":"Sign Up")))),r.a.createElement("div",{className:"w-100 text-center mt-2"},"Already have an account? ",r.a.createElement(o.b,{to:"login"},"Log In")))}var F=a(34);function L(){var e=S(),t=e.login,a=e.loginWithGoogle,l=e.loginWithFacebook,c=Object(n.useState)(""),u=Object(p.a)(c,2),i=u[0],s=u[1],h=Object(n.useState)(!1),g=Object(p.a)(h,2),w=g[0],O=g[1],j=Object(n.useRef)(null),k=Object(n.useRef)(null),x=Object(n.useCallback)(function(){var e=Object(d.a)(m.a.mark((function e(a){var n,r,l,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),O(!0),(null===(n=j.current)||void 0===n?void 0:n.value)&&(null===(r=k.current)||void 0===r?void 0:r.value)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,s(""),e.next=8,t({email:null===(l=j.current)||void 0===l?void 0:l.value,password:null===(c=k.current)||void 0===c?void 0:c.value});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),s("Failed to login");case 13:return e.prev=13,O(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[4,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),[t]),y=Object(n.useCallback)(function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(!0),e.prev=2,s(""),e.next=6,a();case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(2),"auth/popup-closed-by-user"!==e.t0.code){e.next=12;break}return e.abrupt("return");case 12:console.log({err:e.t0}),s(e.t0.message||"Failed to login with Google");case 14:return e.prev=14,O(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,8,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[a]),C=Object(n.useCallback)(function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(!0),e.prev=2,s(""),e.next=6,l();case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(2),"auth/popup-closed-by-user"!==e.t0.code){e.next=12;break}return e.abrupt("return");case 12:console.log({err:e.t0}),s(e.t0.message||"Failed to login with Facebook");case 14:return e.prev=14,O(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,8,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[l]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null,r.a.createElement(b.a.Body,null,r.a.createElement("h2",{className:"text-center  mb-4"},"Login"),!!i&&r.a.createElement(v.a,{variant:"danger"},i),r.a.createElement(f.a,{onSubmit:x},r.a.createElement(f.a.Group,{id:"email"},r.a.createElement(f.a.Label,null,"Email"),r.a.createElement(f.a.Control,{type:"email",required:!0,ref:j})),r.a.createElement(f.a.Group,{id:"password"},r.a.createElement(f.a.Label,null,"Password"),r.a.createElement(f.a.Control,{type:"password",required:!0,ref:k})),r.a.createElement(E.a,{type:"submit",className:"w-100",disabled:w},w?"Loging in...":"Log In")),r.a.createElement("div",{className:"w-100 text-center mt-3 mb-5"},r.a.createElement(o.b,{to:"forgot-password"},"Forgot Password?")),r.a.createElement(E.a,{style:{backgroundColor:"#dd4b39",border:0},block:!0,onClick:y},r.a.createElement(F.b,{size:30,style:{marginRight:20}})," Sign in with Google"),r.a.createElement(E.a,{style:{backgroundColor:"#4064ac",border:0},block:!0,onClick:C},r.a.createElement(F.a,{size:30,style:{marginRight:20}})," Sign in with Facebook"))),r.a.createElement("div",{className:"w-100 text-center mt-2"},"Need an account? ",r.a.createElement(o.b,{to:"signup"},"Sign Up")))}function G(){var e=S(),t=e.logout,a=e.currentUser,l=Object(n.useState)(""),c=Object(p.a)(l,2),u=c[0],i=c[1],s=Object(n.useCallback)(Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(""),e.next=4,t();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i("Failed to logout");case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null,r.a.createElement(b.a.Body,null,r.a.createElement("h2",{className:"text-center  mb-4"},"Profile"),!!u&&r.a.createElement(v.a,{variant:"danger"},u),r.a.createElement("strong",null,"Email: ")," ",null===a||void 0===a?void 0:a.email,r.a.createElement(o.b,{to:"update-profile",className:"btn btn-primary w-100 mt-3"},"Update profile"))),r.a.createElement("div",{className:"w-100 text-center mt-2"},r.a.createElement(E.a,{variant:"link",onClick:s},"Logout")))}function R(){var e=S(),t=e.currentUser,a=e.updateEmail,l=e.updatePassword,c=Object(i.g)(),u=Object(n.useState)(""),s=Object(p.a)(u,2),h=s[0],g=s[1],w=Object(n.useState)(!1),O=Object(p.a)(w,2),j=O[0],k=O[1],x=Object(n.useRef)(null),y=Object(n.useRef)(null),C=Object(n.useRef)(null),P=Object(n.useCallback)(function(){var e=Object(d.a)(m.a.mark((function e(n){var r,u,o,i,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),k(!0),null===(r=x.current)||void 0===r?void 0:r.value){e.next=4;break}return e.abrupt("return",g("Fill in a valid e-mail"));case 4:if((null===(u=C.current)||void 0===u?void 0:u.value)===(null===(o=y.current)||void 0===o?void 0:o.value)){e.next=6;break}return e.abrupt("return",g("Passwords do not match"));case 6:return s=[],x.current.value!==(null===t||void 0===t?void 0:t.email)&&s.push(a(x.current.value)),(null===(i=y.current)||void 0===i?void 0:i.value)&&s.push(l(y.current.value)),e.prev=9,g(""),e.next=13,Promise.all(s);case 13:c.push("/"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),g("Failed to update account");case 19:return e.prev=19,k(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[9,16,19,22]])})));return function(t){return e.apply(this,arguments)}}(),[a,l,t,c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null,r.a.createElement(b.a.Body,null,r.a.createElement("h2",{className:"text-center  mb-4"},"Update Profile"),!!h&&r.a.createElement(v.a,{variant:"danger"},h),r.a.createElement(f.a,{onSubmit:P},r.a.createElement(f.a.Group,{id:"email"},r.a.createElement(f.a.Label,null,"Email"),r.a.createElement(f.a.Control,{type:"email",required:!0,ref:x,defaultValue:(null===t||void 0===t?void 0:t.email)||""})),r.a.createElement(f.a.Group,{id:"password"},r.a.createElement(f.a.Label,null,"Password"),r.a.createElement(f.a.Control,{type:"password",ref:y,placeholder:"Leave blank to keep the same"})),r.a.createElement(f.a.Group,{id:"password-confirmation"},r.a.createElement(f.a.Label,null,"Password Confirmation"),r.a.createElement(f.a.Control,{type:"password",ref:C,placeholder:"Leave blank to keep the same"})),r.a.createElement(E.a,{type:"submit",className:"w-100",disabled:j},j?"Updating...":"Update")))),r.a.createElement("div",{className:"w-100 text-center mt-2"},r.a.createElement(o.b,{to:"/"},"Cancel")))}function U(){var e=S().resetPassword,t=Object(n.useState)(""),a=Object(p.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)(""),i=Object(p.a)(u,2),s=i[0],h=i[1],g=Object(n.useState)(!1),w=Object(p.a)(g,2),O=w[0],j=w[1],k=Object(n.useRef)(null),x=Object(n.useCallback)(function(){var t=Object(d.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),j(!0),t.prev=2,c(""),h(""),t.next=7,e(null===(n=k.current)||void 0===n?void 0:n.value);case 7:h("Check your inbox for futher instructions."),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),c("Failed to reset password");case 13:return t.prev=13,j(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[2,10,13,16]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null,r.a.createElement(b.a.Body,null,r.a.createElement("h2",{className:"text-center  mb-4"},"Password Reset"),!!l&&r.a.createElement(v.a,{variant:"danger"},l),!!s&&r.a.createElement(v.a,{variant:"success"},s),r.a.createElement(f.a,{onSubmit:x},r.a.createElement(f.a.Group,{id:"email"},r.a.createElement(f.a.Label,null,"Email"),r.a.createElement(f.a.Control,{type:"email",required:!0,ref:k})),r.a.createElement(E.a,{type:"submit",className:"w-100",disabled:O},O?"Sending email...":"Reset password")),r.a.createElement("div",{className:"w-100 text-center mt-3"},r.a.createElement(o.b,{to:"login"},"Login")))),r.a.createElement("div",{className:"w-100 text-center mt-2"},"Need an account? ",r.a.createElement(o.b,{to:"signup"},"Sign Up")))}var I=a(44),A=function(e){var t=e.isPrivate,a=Object(I.a)(e,["isPrivate"]);return!!t===!!S().currentUser?r.a.createElement(i.b,a):r.a.createElement(i.a,{to:{pathname:t?"/login":"/",state:{from:a.location}}})};function W(){return r.a.createElement(o.a,{basename:"/Firebase-Authentication"},r.a.createElement(i.d,null,r.a.createElement(A,{exact:!0,path:"/",component:G,isPrivate:!0}),r.a.createElement(A,{exact:!0,path:"/update-profile",component:R,isPrivate:!0}),r.a.createElement(A,{path:"/login",component:L}),r.a.createElement(A,{path:"/forgot-password",component:U}),r.a.createElement(A,{path:"/signup",component:N})))}var B=function(){return r.a.createElement(P,null,r.a.createElement(u.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"}},r.a.createElement("div",{className:"w-100",style:{maxWidth:400}},r.a.createElement(W,null))))};a(70);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.ff96764a.chunk.js.map